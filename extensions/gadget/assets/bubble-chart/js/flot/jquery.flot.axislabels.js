(function(e){function n(t){var n=false;t.hooks.draw.push(function(t,r){if(!n){e.each(t.getAxes(),function(n,r){var i=r.options||t.getOptions()[n];if(!i||!i.axisLabel)return;var s,o;if(i.axisLabelUseCanvas!=false)i.axisLabelUseCanvas=true;if(i.axisLabelUseCanvas){if(!i.axisLabelFontSizePixels)i.axisLabelFontSizePixels=14;if(!i.axisLabelFontFamily)i.axisLabelFontFamily="sans-serif";if(!i.axisLabelFontColor)i.axisLabelFontColor="black";s=i.axisLabelFontSizePixels;o=i.axisLabelFontSizePixels}else{var u=e('<div class="axisLabels" style="position:absolute;">'+i.axisLabel+"</div>");t.getPlaceholder().append(u);s=u.outerWidth(true);o=u.outerHeight(true);u.remove()}if(n.charAt(0)=="x")r.labelHeight+=o;else r.labelWidth+=s;i.labelHeight=r.labelHeight;i.labelWidth=r.labelWidth});r.fill();n=true;t.setupGrid();t.draw()}else{e.each(t.getAxes(),function(n,r){var i=r.options||t.getOptions()[n];if(!i||!i.axisLabel)return;if(i.axisLabelUseCanvas){var s=t.getCanvas().getContext("2d");s.save();s.font=i.axisLabelFontSizePixels+"px "+i.axisLabelFontFamily;var o=s.measureText(i.axisLabel).width;var u=i.axisLabelFontSizePixels;var a,f;if(n.charAt(0)=="x"){a=t.getPlotOffset().left+t.width()/2-o/2;f=t.getCanvas().height}else{a=u*.72;f=t.getPlotOffset().top+t.height()/2-o/2}s.translate(a,f);s.rotate(n.charAt(0)=="x"?0:-Math.PI/2);s.fillStyle=i.axisLabelFontColor;s.fillText(i.axisLabel,0,0);s.restore()}else{t.getPlaceholder().find("#"+n+"Label").remove();var l=e('<div id="'+n+'Label" " class="axisLabels" style="position:absolute;">'+i.axisLabel+"</div>");if(n.charAt(0)=="x"){l.css("left",t.getPlotOffset().left+t.width()/2-l.outerWidth()/2+"px");l.css("bottom","0px")}else{l.css("top",t.getPlotOffset().top+t.height()/2-l.outerHeight()/2+"px");l.css("left","0px")}t.getPlaceholder().append(l)}});n=false}})}var t={};e.plot.plugins.push({init:n,options:t,name:"axisLabels",version:"1.0"})})(jQuery)